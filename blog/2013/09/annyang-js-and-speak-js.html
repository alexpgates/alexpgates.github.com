<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <title>“Hello world! … Hello world!” with annyang.js & speak.js</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Bootstrap -->
    <link rel="stylesheet" href="http://alexpgates.com/theme/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="http://alexpgates.com/theme/css/bootstrap-responsive.min.css" type="text/css" />
    <link rel="stylesheet" href="http://alexpgates.com/theme/css/article.css" type="text/css" />
    <link rel="stylesheet" href="http://alexpgates.com/theme/css/typogrify.css" type="text/css" />
    <link rel="stylesheet" href="http://alexpgates.com/theme/css/pygment.css" type="text/css" />
    <link href='http://fonts.googleapis.com/css?family=Arvo:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=PT+Sans:400,700' rel='stylesheet' type='text/css'>
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">
    <link rel="stylesheet" href="http://alexpgates.com/theme/css/base.css?v2" type="text/css" />
        <meta property="og:type" content="article"/>
        <meta property="og:title" content="“Hello world! … Hello world!” with annyang.js & speak.js"/>
        <meta property="og:description" content="Combining annyang.js and speak.js to build a web site that listens to what you say and repeats it back to you."/>
        <meta property="og:locale" content="en_US" />
        
    <link href="http://alexpgates.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Alex P. Gates Atom Feed" />
    <link rel="shortcut icon" href="/favicon.ico?v=4" />

    <!--[if IE]>
            <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
 </head>
<body>
<div class="wrap">
<div class="container-fluid">
    <div class="row-fluid">

        <div class="span4 pagination-centered side-column" id="side-column">
            <div class="pagination-centered">
                <div id="alex-photo"><a href="http://alexpgates.com/">
                    <img class="me" src="http://alexpgates.com/theme/img/alex-medium.png" alt="Handsome Photo of Alex"></a>
                </div>
            </div>
            <div>
                <h1 class="sitename">Alex P. Gates</h1>
                
                <div class="subtitle">
<p>works on the internet</p> 
 <span class="amp">&amp;</span><div class="omaha"><small>lives in Omaha.</small></div>                    <div class="social">
                        <p><a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#97;&#108;&#101;&#120;&#64;&#119;&#104;&#97;&#116;&#99;&#104;&#101;&#101;&#114;&#46;&#99;&#111;&#109;"><i title="email" class="fa fa-envelope"></i></a><a href="http://twitter.com/alexpgates"><i title="twitter" class="fa fa-twitter"></i></a><a href="http://github.com/alexpgates"><i title="github" class="fa fa-github-alt"></i></a><a href="http://linkedin.com/in/alexpgates"><i title="linkedin" class="fa fa-linkedin"></i></a><a href="/feeds/all.atom.xml"><i title="feed" class="fa fa-rss"></i></a></p>
                    </div>
                </div>
            </div>
            <div class="clearfix"></div>
            <hr class="top-hr">
        </div><!-- /side panel-->

        <div class="main-content span7">
<section id="content" class="body">
  <article>

    <header>
      <h1 class="entry-title"><span class="dquo">&#8220;</span>Hello world! &#8230; Hello&nbsp;world!&#8221; with annyang.js <span class="amp">&amp;</span>&nbsp;speak.js</h1>
    </header>
    <h5 class="entry-date-tags">Sep&nbsp;19,&nbsp;2013&nbsp;&nbsp;&bull;&nbsp;&nbsp;<a href="http://alexpgates.com/blog/tag/javascript.html">#Javascript</a>&nbsp;</h5>

    <div class="entry-content">
      <p><a href="http://velvetcache.org">Hobbs</a> sent me a link to <a href="https://www.talater.com/annyang/">annyang.js</a> by <a href="https://github.com/TalAter">Tal Ater</a> because he thought it&#8217;d be right up my alley. (He&#8217;s right! It is! And it&#8217;s not just for the <a href="https://twitter.com/talater/status/380059244017356800">Arrested Development reference</a>!)</p>
<h3>annyang.js</h3>
<p><a href="https://www.talater.com/annyang/">Annyang</a> is &#8220;a tiny javascript library that lets your users control your site with voice commands.&#8221; It can do a lot for weighing in less than 1k. Annyang uses browser-based WebSpeech APIs and your computers microphone to translate speech-to-text and respond according to your commands. Annyang handles some pretty complex commands using variables, wildcards, optional ignoring, etc. There&#8217;s a lot of great possibilities with annyang, and when I have some extra time I plan on using it to control a set of <a href="https://www.meethue.com">Hue lights</a>.</p>
<p>I don&#8217;t have a lot of extra play time at the moment, but I wanted to quickly throw something together to try&nbsp;annyang. </p>
<h3>speak.js</h3>
<p><a href="https://github.com/kripken/speak.js/">Speak.js</a>, by <a href="https://github.com/kripken">Alon Zakai</a> is a javascript port of the eSpeak speech synthesizer. Speak.js enables text-to-speech in the browser using JavaScript and&nbsp;<span class="caps">HTML5</span>.</p>
<h3>Putting them&nbsp;together</h3>
<p>Combining annyang.js and speak.js seemed like fun, so I created <a href="http://webjam.org/speak/" target="_blank">a little demo</a>. Annyang.js listens to what you say, and speak.js repeats it back to&nbsp;you.</p>
<div class="highlight"><pre><span class="nt">&lt;html&gt;</span>
  <span class="nt">&lt;head&gt;</span>
    <span class="nt">&lt;script</span> <span class="na">src=</span><span class="s">&quot;speakClient.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
    <span class="nt">&lt;script</span> <span class="na">src=</span><span class="s">&quot;annyang.min.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
  <span class="nt">&lt;/head&gt;</span>
  <span class="nt">&lt;body&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;audio&quot;</span><span class="nt">&gt;&lt;/div&gt;</span>
  <span class="nt">&lt;/body&gt;</span>
  <span class="nt">&lt;script</span> <span class="na">type=</span><span class="s">&quot;text/javascript&quot;</span><span class="nt">&gt;</span>
    if (annyang) {

      var sayThis = function(repeat) {
        speak(repeat);
      }

      // Let&#39;s define a command.
      var commands = {
        &#39;*repeat&#39;: sayThis
      };

      // Turn on debugging for the console
      annyang.debug();

      // Initialize annyang with our commands
      annyang.init(commands);

      // Start listening.
      annyang.start();
    }
  <span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</pre></div>


<p>In the above example, we begin by checking to see if annyang will work in this browser. If so, we define a function called <code>sayThis</code> that takes the output from our wildcard variable in annyong called <code>*repeat</code> and uses the speak.js function <code>speak()</code> to output a .wav file to <code>&lt;div id="audio"&gt;&lt;/div&gt;</code>.</p>
<p><a href="http://webjam.org/speak/" target="_blank">Try the demo&nbsp;&raquo;</a></p>
    </div>

  </article>
</section>
        </div>
    </div>
</div>
</div>
        <footer>
            <div class="row-fluid">
                <div class="span5 offset1">
                    <h5>About Alex</h5>
                    <p><span class="bold">Alex P. Gates</span> is a <span class="bold">web developer</span>, <span class="bold">strategist</span>, and <span class="bold">technophile</span> based in Omaha, Nebraska.</p>
                    <div class="span12 pagination-centered">
                        <p><a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#97;&#108;&#101;&#120;&#64;&#119;&#104;&#97;&#116;&#99;&#104;&#101;&#101;&#114;&#46;&#99;&#111;&#109;"><i title="email" class="fa fa-envelope fa-2x"></i></a><a class="call" href="tel:1-415-692-1835"><i title="old fashioned telephone" class="fa fa-phone fa-2x"></i></a><a href="http://twitter.com/alexpgates"><i title="twitter" class="fa fa-twitter fa-2x"></i></a><a href="http://github.com/alexpgates"><i title="github" class="fa fa-github fa-2x"></i></a><a href="http://linkedin.com/in/alexpgates"><i title="linkedin" class="fa fa-linkedin fa-2x"></i></a><a href="/feeds/all.atom.xml"><i title="feed" class="fa fa-rss fa-2x"></i></a></p>
                    </div>
                </div>
                <hr class="footer-hr">
                <div class="span4 offset1 projects">
                    <h5>Projects</h5>
                        <ul><li><strong>Personal</strong>
                                <ul>
                                    <li><a href="/blog/2014/07/group-texting-with-php-and-twilio.html">Felix: Group SMS</a></li>
                                    <li><a href="/blog/2014/08/strangers-please-control-my-kitchen-lights.html">Kitchencolors</a></li>
                                </ul>
                            </li>
                            <li><a href="http://packdog.com">Pack</a></li>
                            <li><a href="http://whatcheer.com">What Cheer</a>
                                <ul>
                                    <li><a href="http://iliveinomaha.com">I Live in Omaha</a></li>
                                    <li><a href="http://bumblephone.com">Bumble</a></li>
                                    <li><a href="http://peprallyapp.com">Pep Rally</a></li>
                                    <li><a href="http://selectiveperspectivedetectiveobjective.com/">SPDO</a></li>
                                    <li><a href="http://iliveinomaha.com/hotorcold">Hot or Cold</a></li>
                                </ul>
                            </li>
                        </ul>
                </div>
            </div>
            <hr class="footer-hr">
            <div class="row-fluid">
                <div class="span12 pagination-centered built">
                    <p>Built with <a href="http://daringfireball.net/projects/markdown/" target="_blank">Markdown</a>, <a href="http://docs.getpelican.com/en/latest/" target="_blank">Pelican</a>, <a href="http://jinja.pocoo.org/" target="_blank">Jinja2</a>, and <a href="http://twitter.github.io/bootstrap/index.html">Bootstrap</a> and hosted on <a href="http://github.com">Github</a>.</p>
                </div>
            </div>
            <div class="row-fluid">
                <div class="span12 pagination-centered spb">
                        <p><a href="http://siliconprairiebuilt.com" target="_blank"><img src="http://alexpgates.com/theme/img/footer-black-sm.png" alt="Silicon Prairie Built"></a></p>
                </div>
            </div>
        </footer>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-39747483-2', 'alexpgates.com');
  ga('send', 'pageview');

</script>
</body>
</html>