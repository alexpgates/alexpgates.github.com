<!DOCTYPE html>
<html lang="en">
<head>
        <title>alexpgates.com - Makefile</title>
        <meta charset="utf-8" />
        <link rel="stylesheet" href="../theme/css/main.css" type="text/css" />
                <link href="http://alexpgates.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="alexpgates.com Atom Feed" />
                
        <!--[if IE]>
                <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

        <!--[if lte IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href="../css/ie.css"/>
                <script src="../js/IE8.js" type="text/javascript"></script><![endif]-->

        <!--[if lt IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href="../css/ie6.css"/><![endif]-->

                </head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="../">alexpgates.com </a></h1>
                <nav><ul>
                                    <li><a href="/archives.html">Archives</a></li>
                                                                                                    <li ><a href="../category/blog.html">Blog</a></li>
                                </ul></nav>
        </header><!-- /#banner -->
                
            

                            <aside id="featured" class="body">
                <article>
                    <h1 class="entry-title"><a href="../deployment-method.html">Deployment&nbsp;method</a></h1> 
                    <footer class="post-info">
        <abbr class="published" title="2012-12-17T00:00:00">
                Mon 17 December 2012
        </abbr>

                <address class="vcard author">
                By <a class="url fn" href="../author/alex-p-gates.html">Alex P. Gates</a>
        </address>
        <p>In <a href="../category/blog.html">Blog</a>. </p>
<p>tags: <a href="../tag/python.html">Python</a><a href="../tag/makefile.html">Makefile</a><a href="../tag/pelican.html">Pelican</a><a href="../tag/fabric.html">Fabric</a></p>
</footer><!-- /.post-info --><h1>Whizzamo!</h1>
<p>I managed to get a lot working. This is how it&#8217;s all shaking&nbsp;out.</p>
<h2>make sure you are in the right&nbsp;environment</h2>
<div class="codehilite"><pre><span class="nv">$ </span>workon blog
</pre></div>


<h2>I don&#8217;t think I need that&nbsp;Makefile</h2>
<p>When I first set up Pelican, I used the quick setup which created a make file that worked well with the /output&nbsp;directory</p>
<div class="codehilite"><pre><span class="nv">$ </span>pelican-quickstart
</pre></div>


<p>This created a few files for me (probably a few handy things). One of them was the Makefile that allowed me to generate <span class="caps">HTML</span>&nbsp;with:</p>
<div class="codehilite"><pre><span class="nv">$ </span>make html
</pre></div>


<p>After following the <a href="http://martinbrochhaus.com/2012/02/pelican.html">this tutorial</a>, though, I had to generate my <span class="caps">HTML</span> using this&nbsp;command:</p>
<div class="codehilite"><pre><span class="nv">$ </span>pelican . -o ../ -s settings.py
</pre></div>


<p>That isn&#8217;t as&nbsp;nice.</p>
<p>So, in my attempts to create a Makefile that worked well with the structure of what I have here, I managed to delete my entire directory a few times. I gave up on the&nbsp;Makefile.</p>
<h2>Oh hai&nbsp;fabric!</h2>
<p>The author of that tutorial also had set up a fabric file to help with publishing. This seems to save the day, and it seems I can probaly do some other neat stuff with this. (<em>I trimmed out the other tasks in the fab file because I don&#8217;t really feel the need to deploy to github without first previewing locally</em>)</p>
<div class="codehilite"><pre><span class="s2">&quot;&quot;&quot;Fabric tasks for generating <span class="caps">HTML</span>&quot;&quot;&quot;</span>
from __future__ import with_statement

from fabric.api import lcd, <span class="nb">local</span>, settings

def html<span class="o">()</span>:
    <span class="s2">&quot;&quot;&quot;Re-generates the output.&quot;&quot;&quot;</span>
    <span class="nb">local</span><span class="o">(</span><span class="s1">&#39;pelican . -o ../ -s settings.py&#39;</span><span class="o">)</span>
<span class="o">)</span>
</pre></div>


<h2>tl;dr</h2>
<div class="codehilite"><pre><span class="nv">$ </span><span class="nb">cd</span> /Applications/<span class="caps">MAMP</span>/htdocs/alexpgates.github.com/source/
<span class="nv">$ </span>fab html
</pre></div>


<p>Then preview my site locally before using the Github app to publish to the live&nbsp;site.</p>                </article>
                                    <p class="paginator">
        Page 1 / 1
    </p>
                            </aside><!-- /#featured -->
                                                </ol><!-- /#posts-list -->
                        </section><!-- /#content -->
                    <section id="extras" class="body">
                        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="http://getpelican.com/">Pelican</a>, which takes great advantage of <a href="http://python.org">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a href="http://coding.smashingmagazine.com/2009/08/04/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>